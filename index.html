<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Society Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-main">
                <h1>ğŸ¢ Society Dashboard</h1>
                <div class="header-controls">
                    <button onclick="refreshData()" class="refresh-btn">
                        ğŸ”„ Refresh Data
                    </button>
                </div>
            </div>
            <div class="header-info">
                <div class="last-updated">
                    Last Updated: <span id="lastUpdated">Loading...</span>
                </div>
                <div class="connection-status">
                    Status: <span id="connectionStatus" class="status-loading">âŸ³ Loading...</span>
                </div>
            </div>
        </header>

        <!-- Summary Metrics Section -->
        <section class="metrics-section">
            <h2>ğŸ“Š Financial Summary</h2>
            <div id="financialMetrics" class="metrics-grid">
                <!-- Metrics will load here -->
            </div>
        </section>

        <div class="content-grid">
            <!-- Daily Summary Section -->
            <section class="summary-section">
                <div class="section-header">
                    <h2>ğŸ“‹ Daily Summary</h2>
                    <div class="summary-filters">
                        <select id="typeFilter" onchange="filterSummary()">
                            <option value="all">All Types</option>
                            <option value="collection">Collections</option>
                            <option value="expense">Expenses</option>
                        </select>
                    </div>
                </div>
                <div class="summary-table-container">
                    <table id="summaryTable" class="summary-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Type</th>
                                <th>Member/Item</th>
                                <th>Amount</th>
                                <th>Remark</th>
                            </tr>
                        </thead>
                        <tbody id="summaryTableBody">
                            <!-- Summary data will load here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Notices Section -->
            <section class="notices-section">
                <div class="section-header">
                    <h2>ğŸ“¢ Society Notices</h2>
                    <div class="notice-filters">
                        <select id="noticeTypeFilter" onchange="filterNotices()">
                            <option value="all">All Types</option>
                            <option value="Maintenance">Maintenance</option>
                            <option value="Meeting">Meeting</option>
                            <option value="General">General</option>
                            <option value="Emergency">Emergency</option>
                            <option value="Event">Event</option>
                        </select>
                    </div>
                </div>
                <div id="noticesList" class="notices-grid">
                    <!-- Notices will load here -->
                </div>
            </section>
        </div>

        <!-- Additional Content Sections -->
        <div class="content-grid secondary-grid">
            <section class="members-section">
                <h2>ğŸ‘¥ Members Overview</h2>
                <div id="membersList" class="members-grid">
                    <!-- Members will load here -->
                </div>
            </section>

            <section class="expenses-section">
                <h2>ğŸ“ˆ Expense Analysis</h2>
                <div id="expenseChart" class="chart-container">
                    <!-- Expense chart will load here -->
                </div>
            </section>
        </div>

        <footer>
            <div class="footer-content">
                <button onclick="showRawData()" class="raw-data-btn">
                    ğŸ“Š View Raw Data
                </button>
                <p>Society Management Dashboard â€¢ Auto-refresh every 5 minutes</p>
            </div>
        </footer>
    </div>

    <!-- Raw Data Modal -->
    <div id="rawDataModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Raw Data View</h3>
                <span class="close" onclick="closeRawData()">&times;</span>
            </div>
            <div class="modal-tabs">
                <button class="tab-btn active" onclick="openTab(event, 'dataTab')">Data</button>
                <button class="tab-btn" onclick="openTab(event, 'noticesTab')">Notices</button>
            </div>
            <div id="dataTab" class="tab-content active">
                <pre id="rawDataContent"></pre>
            </div>
            <div id="noticesTab" class="tab-content">
                <pre id="rawNoticesContent"></pre>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
